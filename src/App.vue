<template>
  <div class="min-h-screen bg-gray-100">
    <!-- í—¤ë” -->
    <header class="sticky top-0 z-10 bg-white/80 backdrop-blur border-b">
      <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
        <h1 class="text-xl font-semibold tracking-tight">
          Neo4j Graph + LLM Chat (Vue 3 + Tailwind)
        </h1>
        <button 
          @click="toggleSidebar" 
          class="px-3 py-2 rounded-2xl bg-gray-900 text-white shadow hover:bg-gray-800 transition"
        >
          Toggle Chat
        </button>
      </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-7xl mx-auto p-4 grid lg:grid-cols-3 gap-4">
      <!-- ê·¸ë˜í”„ ì„¹ì…˜ -->
      <section class="lg:col-span-2 space-y-4">
        <div class="p-4 bg-white rounded-2xl shadow">
          <h2 class="text-lg font-semibold mb-3">ê·¸ë˜í”„ íƒìƒ‰</h2>
          <GraphPanel height="560px" />
        </div>
      </section>

      <!-- ì±„íŒ… ì‚¬ì´ë“œë°” -->
      <aside 
        v-show="sidebarOpen" 
        class="lg:col-span-1 p-4 bg-white rounded-2xl shadow h-fit lg:sticky lg:top-20"
      >
        <h2 class="text-lg font-semibold mb-3">LLM ì±„íŒ… (UIë§Œ)</h2>
        <ChatPanel />
      </aside>
    </main>

    <!-- í‘¸í„° -->
    <footer class="max-w-7xl mx-auto px-4 py-6 text-sm text-gray-500">
      <p>
        ğŸ§© êµì²´ í¬ì¸íŠ¸: ì‹¤ì œ ë°±ì—”ë“œ ì—°ê²° ì‹œ GraphPanelì—ì„œ 
        <code class="bg-gray-100 px-1 rounded">mode='neovis'</code>ì™€ Neo4j ì ‘ì† ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. 
        ì±„íŒ…ì€ ë°±ì—”ë“œ API í˜¸ì¶œë¡œ ëŒ€ì²´.
      </p>
    </footer>
  </div>
</template>

<script setup lang="ts">
import { ref } from '@vue/runtime-dom'
import ChatPanel from './components/ChatPanel.vue'
import GraphPanel from './components/GraphPanel.vue'

// ë°˜ì‘ì„± ë°ì´í„°
const sidebarOpen = ref<boolean>(true)

// ë©”ì†Œë“œ
const toggleSidebar = (): void => {
  sidebarOpen.value = !sidebarOpen.value
}
</script>